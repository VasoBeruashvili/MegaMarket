@{Layout = "~/Areas/Admin/Views/Shared/_NavLayout.cshtml";}

<script src="~/Scripts/manufacturers.js"></script>

<div class="col-md-6" style="margin-left: -15px;">
    @{
        using (var context = new MMContext())
        {
            var manufacturers = context.Manufacturers.ToList();

            <a class="btn btn-sm btn-primary" onclick="AddManufacturer()" style="margin-bottom: 5px;"><i class="fa fa-plus-circle"></i> დამატება</a>

            <table class="table table-striped table-hover table-bordered">
                <thead>
                    <tr>
                        <th>id</th>
                        <th>დასახელება</th>
                        <th style="width: 24px;"></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var manufacturer in manufacturers)
                    {
                        <tr style="cursor: pointer;">
                            <td onclick="EditManufacturer(@manufacturer.Id, '@manufacturer.Name')">@manufacturer.Id</td>
                            <td onclick="EditManufacturer(@manufacturer.Id, '@manufacturer.Name')">@manufacturer.Name</td>
                            <td><a class="btn btn-sm btn-danger btn-xs" onclick="DeleteManufacturer(@manufacturer.Id)"><i class="fa fa-trash"></i></a></td>
                        </tr>
                    }
                </tbody>
            </table>
        }
    }
</div>

<div id="addEditManufacturer" class="col-md-3" style="display: none;">
    <h4 id="addEditManufacturerTitle"></h4>
    <hr />
    <input id="manufacturerName" class="input-group input-sm form-control" style="max-width: 100% !important;" placeholder="დასახელება" autofocus />
    <hr style="margin-bottom: 10px;" />
    <a class="btn btn-sm btn-default" style="float: right;" onclick="CancelSaveManufacturer()"><i class="fa fa-close"></i> გაუქმება</a>
    <a class="btn btn-sm btn-primary" style="float: right; margin-right: 5px;" onclick="SaveManufacturer()"><i class="fa fa-save"></i> შენახვა</a>
</div>
